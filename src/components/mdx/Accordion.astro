---
interface Props {
  title: string;
  note?: string;
  id?: string;
}

const { title, note, id } = Astro.props;
---

<details class="accordion" id={id ?? ""}>
  <summary class="accordion__summary">
    <span class="accordion__title">{title}</span>
  </summary>
  <div class="accordion__content">
    <slot />
    {note && <p class="accordion__note">{note}</p>}
  </div>
</details>
<style>
  .accordion {
    margin: clamp(16px, 2vw, 24px) 0;
    border: 1px solid #e5e7eb;
    border-radius: clamp(8px, 1vw, 12px);
    background: #fff;
    overflow: hidden;
  }

  /* SUMMARY */
  .accordion__summary {
    padding: clamp(12px, 1.6vw, 16px) clamp(16px, 2vw, 20px);
    cursor: pointer;
    user-select: none;
    list-style: none;
    display: flex;
    align-items: center;
    gap: 8px;

    font-weight: 600;
    font-size: clamp(15px, 1.4vw, 17px);
    color: #111;

    background: #f9fafb;
    border-bottom: 1px solid #e5e7eb;
    transition: background 0.2s ease;
  }

  /* убираем стандартный маркер */
  .accordion__summary::-webkit-details-marker {
    display: none;
  }

  /* плюс справа */
  .accordion__summary::after {
    content: "+";
    margin-left: auto;
    font-size: 34px;
    font-weight: 400;
    line-height: 1;
    opacity: 1;
    transition: opacity 0.2s ease;
  }

  /* hover */
  .accordion__summary:hover {
    background: #f3f4f6;
  }

  /* OPEN STATE */
  .accordion[open] > .accordion__summary::after {
    content: "−";
    opacity: 1;
  }

  /* CONTENT */
  .accordion__content {
    padding: clamp(16px, 2vw, 20px);
  }

  .accordion__note {
    margin-top: 12px;
    font-size: 14px;
    color: #374151;
  }
</style>
