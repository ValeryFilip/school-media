---
interface Img {
  src: string;
  width?: number;
  height?: number;
  alt: string;
}
interface Props {
  id?: string;
  title?: string;
  ctaHref?: string;
  ctaText?: string;
  image?: Img;
}
const {
  id = "ad-media",
  title = "Читайте полезные статьи от экспертов в нашем медиа",
  ctaHref = "#media",
  ctaText = "Читать статьи",
  image = {
    src: "images/mainpage/media.png",
    alt: "Подборка материалов по химии",
  },
} = Astro.props as Props;
---

<section class="section ad-media" aria-labelledby={`${id}-title`}>
  <div class="container">
    <article class="ad-media__card">
      <div class="ad-media__grid">
        <header class="ad-media__text">
          <h2 id={`${id}-title`} class="ad-media__title">{title}</h2>
          <a href={ctaHref} class="btn btn--ghost ad-media__cta">{ctaText}</a>
        </header>

        <figure class="ad-media__figure" aria-label="Превью статей">
          <img
            class="ad-media__img"
            src={image.src}
            width={image.width ?? 500}
            height={image.height ?? 380}
            alt={image.alt}
            loading="lazy"
            decoding="async"
          />
        </figure>
      </div>
    </article>
  </div>

  <style>
    /* локальный контейнер (стандартный паттерн) */
    .container {
      max-width: var(--container);
      margin: 0 auto;
      padding: 0 var(--pad-desktop);
      box-sizing: border-box;
    }
    @media (max-width: 1100px) {
      .container {
        width: 100vw;
        margin-left: calc(50% - 50vw);
        margin-right: calc(50% - 50vw);
        max-width: none;
        padding: 0 var(--pad-mobile);
      }
    }
    @media (max-width: 600px) {
      .container {
        width: 100vw;
        margin-left: calc(50% - 50vw);
        margin-right: calc(50% - 50vw);
        max-width: none;
        padding: 0 var(--pad-mobile);
      }
    }

    .ad-media__card {
      background: var(--blue);
      color: #fff;
      border-radius: var(--radius-24);
      border: 1px solid var(--border);
      box-shadow: var(--shadow-1);
      padding: var(--space-32);
    }
    .ad-media__grid {
      display: grid;
      grid-template-columns: 1fr 0.8fr;
      gap: var(--space-24);
      align-items: center;
    }
    .ad-media__text {
      display: grid;
      gap: var(--space-16);
      max-width: 720px;
    }
    .ad-media__title {
      margin: 0;
      font-size: var(--h2);
      line-height: 1.25;
    }
    .ad-media__cta {
      justify-self: start;
    }
    .ad-media__figure {
      margin: 0;
      justify-self: end;
      max-width: 100%;
    }
    .ad-media__img {
      overflow-clip-margin: content-box;
      overflow: clip;
    }

    @media (max-width: 1100px) {
      .ad-media__grid {
        grid-template-columns: 1fr;
        gap: var(--space-24);
      }
      .ad-media__card {
        padding: var(--space-24);
      }
      .ad-media__text {
        text-align: center;
        justify-items: center;
        max-width: 760px;
        margin-inline: auto;
      }
      .ad-media__cta {
        justify-self: center;
      }
      .ad-media__figure {
        display: none !important;
      }
    }
    @media (max-width: 600px) {
      .ad-media__grid {
        gap: var(--space-16);
      }
      .ad-media__text {
        max-width: 100%;
      }
    }
  </style>
</section>
