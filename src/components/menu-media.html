<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Menu</title>
  </head>
  <body>
    <header class="menu">
      <div class="menu__wrapper">
        <div class="menu__left">
          <div class="menu__logo">
            <a href="/">
              <img
                src="../../public/images/logo_media.svg"
                alt="logo"
                class="menu__logo-img"
                height="50px"
                loading="eager"
                decoding="async"
              />
            </a>
          </div>
          <nav class="menu__nav">
            <ul class="menu__list">
              <li class="menu__item">
                <a href="#" class="menu__link">–ì–ª–∞–≤–Ω–∞—è </a>
              </li>
              <li class="menu__item">
                <a href="#" class="menu__link">–í—Å–µ —Å—Ç–∞—Ç—å–∏</a>
              </li>
              <li class="menu__item menu__item-courses">
                <a href="#" class="menu__link">–ö—É—Ä—Å—ã</a>
              </li>
              <li class="menu__item">
                <details class="menu__details">
                  <summary class="menu__summary">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</summary>
                  <ul class="menu__sublist">
                    <li class="menu__subitem">
                      <a href="#" class="menu__sublink">–ö–∞—Ç–µ–≥–æ—Ä–∏—è 1</a>
                    </li>
                    <li class="menu__subitem">
                      <a href="#" class="menu__sublink">–ö–∞—Ç–µ–≥–æ—Ä–∏—è 2</a>
                    </li>
                    <li class="menu__subitem">
                      <a href="#" class="menu__sublink">–ö–∞—Ç–µ–≥–æ—Ä–∏—è 3</a>
                    </li>
                  </ul>
                </details>
              </li>
            </ul>
          </nav>
        </div>
        <div class="menu__search">
          <form class="search" action="/search">
            <label class="search__btn" for="q" aria-label="–û—Ç–∫—Ä—ã—Ç—å –ø–æ–∏—Å–∫"
              >üîç</label
            >
            <input
              id="q"
              class="search__input"
              type="text"
              name="q"
              placeholder="–ü–æ–∏—Å–∫‚Ä¶"
            />
          </form>
        </div>
        <div class="menu__burger">
          <button
            id="openMenu"
            class="burger"
            aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é"
            aria-controls="mDialog"
            aria-expanded="false"
          >
            ‚ò∞
          </button>
        </div>
      </div>
    </header>

    <dialog id="mDialog" class="sheet" aria-label="–ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é">
      <div class="sheet__panel">
        <div class="sheet__head">
          <div class="mnav__logo">
            <img
              src="../../public/images/logo_media.svg"
              alt="logo"
              class="mnav__logo-img"
              height="50px"
              loading="eager"
              decoding="async"
            />
          </div>
          <button id="closeMenu" class="sheet__close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
            ‚úï
          </button>
        </div>
        <form class="search" action="/search">
          <label class="search__btn" for="q" aria-label="–û—Ç–∫—Ä—ã—Ç—å –ø–æ–∏—Å–∫"
            >üîç</label
          >
          <input
            id="q"
            class="search__input"
            type="text"
            name="q"
            placeholder="–ü–æ–∏—Å–∫‚Ä¶"
          />
        </form>
        <nav>
          <ul class="mnav">
            <li class="mnav__item"><a href="/courses">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li class="mnav__item"><a href="/pricing">–í—Å–µ —Å—Ç–∞—Ç—å–∏</a></li>
            <li class="mnav__item mnav__item-courses">
              <a href="/contacts">–ö—É—Ä—Å—ã</a>
            </li>
          </ul>
        </nav>
        <div class="mnav__category">
          <ul class="mnav__category-list">
            <li><a href="/media">–•–∏–º–∏—è</a></li>
            <li><a href="/media">–§–∏–∑–∏–∫–∞</a></li>
            <li><a href="/media">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</a></li>
            <li><a href="/media">–ë–∏–æ–ª–æ–≥–∏—è</a></li>
            <li><a href="/media">–ì–µ–æ–≥—Ä–∞—Ñ–∏—è</a></li>
            <li><a href="/media">–ò—Å—Ç–æ—Ä–∏—è</a></li>
            <li><a href="/media">–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ</a></li>
            <li><a href="/media">–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫</a></li>
            <li><a href="/media">–†—É—Å—Å–∫–∏–π —è–∑—ã–∫</a></li>
            <li><a href="/media">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</a></li>
            <li><a href="/media">–ì–µ–æ–≥—Ä–∞—Ñ–∏—è</a></li>
          </ul>
        </div>
      </div>
    </dialog>
  </body>
</html>

<style>
  body {
    margin: 0;
    padding: 0;
    font-family: "Inter", sans-serif;
    font-size: 16px;
    line-height: 1.5;
    background-color: #ffffff;
  }
  * {
    box-sizing: border-box;
  }
  a {
    text-decoration: none;
    color: #111;
  }
  .menu__wrapper {
    max-width: 1300px;
    padding: 12px 20px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid #eee;
    border-radius: 12px;
    box-shadow: 0 1px 10px 2px rgba(0, 0, 0, 0.04);
    background: #fff;
    z-index: 100;
    position: relative;
  }
  .menu__list {
    display: flex;
    align-items: center;
    gap: 30px;
    font-weight: 500;
    font-size: 16px;
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .menu__list > li:hover {
    background: #f4f4f4;
    border-radius: 12px;
    transition: all 0.2s ease;
    padding: 8px 10px;
  }
  .menu__item-courses {
    position: relative;
  }
  .menu__item-courses:after {
    content: "‚ûî";
    position: absolute;
    top: 1px;
    right: -1px;
    font-size: 12px;
    transform: rotate(-45deg);
    transition: all 0.2s ease-in-out;
  }
  .menu__item-courses:hover:after {
    transform: translateY(-2px) translateX(2px) rotate(-45deg);
  }
  .menu__left {
    display: flex;
    align-items: center;
    gap: 50px;
  }
  .menu__list > li {
    position: relative;
    padding: 8px 10px;
  }
  .menu__sublist {
    position: absolute;
    top: 100%;
    left: 0;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
    min-width: 300px;
    background: #fff;
    border: 1px solid #eee;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
    padding: 8px;
    margin-top: 6px;
    list-style: none;
  }
  details > summary {
    list-style: none;
    display: flex;
    align-items: center;
    gap: 0.35rem;
    cursor: pointer;
  }
  details > summary::after {
    display: flex;
    align-items: center;
    content: "‚ùØ";
    font-size: 14px;
    transition: all 0.2s ease-in-out;
  }
  details > summary:hover::after {
    transform: translateX(3px);
  }
  details[open] > summary::after {
    transform: rotate(90deg);
  }
  /* –î–∏–∞–ª–æ–≥ –∫–∞–∫ –æ–≤–µ—Ä–ª–µ–π */
  .sheet {
    width: 100%;
    max-width: none;
    height: 100dvh;
    margin: 0;
    padding: 0;
    border: 0;
    background: transparent; /* —Å–∞–º—É –ø–∞–Ω–µ–ª—å —Ä–∏—Å—É–µ–º –≤–Ω—É—Ç—Ä–∏ */
  }
  .sheet::backdrop {
    background: rgba(0, 0, 0, 0.35);
    backdrop-filter: blur(2px);
  }

  /* –ü–ê–ù–ï–õ–¨ –°–ü–†–ê–í–ê: —Ñ–∏–∫—Å–∏—Ä—É–µ–º –∫ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é –∏ –ø—Ä—è—á–µ–º –∑–∞ –Ω–∏–º */
  .sheet__panel {
    position: fixed;
    inset: 0 0 0 auto; /* top:0; right:0; bottom:0; left:auto */
    width: min(86vw, 380px);
    background: #fff;
    padding: 0 12px;
    border-left: 1px solid #eee;
    overflow: auto;
    transform: translateX(100%); /* —Å–ø—Ä—è—Ç–∞–Ω–∞ –∑–∞ –ø—Ä–∞–≤—ã–º –∫—Ä–∞–µ–º */
    transition: transform 0.22s ease;
  }
  /* –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–º –¥–∏–∞–ª–æ–≥–µ –ø–∞–Ω–µ–ª—å —Å–¥–≤–∏–≥–∞–µ–º –≤ –∫–∞–¥—Ä */
  dialog[open] .sheet__panel {
    transform: translateX(0);
  }

  /* –®–∞–ø–∫–∞ –∏ –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ */
  .sheet__head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
    border-bottom: 1px solid #eee;
    padding: 12px 0 0 0;
    position: sticky;
    top: 0;
    background: #fff;
    z-index: 100;
  }
  .sheet__close {
    border: 0;
    background: #f4f4f4;
    border-radius: 10px;
    padding: 8px 10px;
    cursor: pointer;
  }
  .mnav {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin: 12px 0;
  }
  .mnav > li {
    text-decoration: none;
    display: block;
    padding: 12px;
    border: 1px solid #e9ecef;
    border-radius: 12px;
    text-decoration: none;
    color: #111;
    font-weight: 500;
  }

  .mnav__category-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 8px;
    border-top: 1px solid #eee;
    padding-top: 12px;
  }
  .mnav__category-list > li > a {
    text-decoration: none;
    display: block;
    padding: 12px;
    border: 1px solid #e9ecef;
    border-radius: 12px;
    text-decoration: none;
    color: #111;
    font-weight: 500;
  }

  @media (prefers-reduced-motion: reduce) {
    .sheet__panel {
      transition: none;
    }
  }

  .search {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 6px;
    border: 1px solid #e9ecef;
    border-radius: 12px;
    background: #fff;
    width: auto;
    max-width: 100%;
  }
  .search__input {
    width: 150px;
    min-width: 0;
    border: 0;
    outline: 0;
    background: transparent;
    font: inherit;
    transition: width 0.18s ease;
  }

  @media (min-width: 870px) {
    .menu__burger {
      display: none;
    }
  }
  @media (max-width: 870px) {
    .menu__nav {
      display: none;
    }
    .menu__search {
      display: none;
    }
    .menu__wrapper {
      justify-content: space-between;
    }
    .burger {
      border: 1px solid #e9ecef;
      border-radius: 12px;
      padding: 8px 10px;
      cursor: pointer;
      background: #f4f4f4;
    }
  }
</style>
<script>
  // –ú–∏–Ω–∏-–ª–æ–≥–∏–∫–∞ –¥–ª—è off-canvas –º–µ–Ω—é
  const dlg = document.getElementById("mDialog");
  const openBtn = document.getElementById("openMenu");
  const closeBtn = document.getElementById("closeMenu");

  function lockScroll(lock) {
    document.documentElement.style.overflow = lock ? "hidden" : "";
  }

  function openMenu() {
    dlg.showModal(); // –æ—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ (–±–ª–æ–∫–∏—Ä—É–µ—Ç —Ñ–æ–Ω –∫–ª–∏–∫–∞–º–∏)
    openBtn.setAttribute("aria-expanded", "true");
    lockScroll(true);
    // —Ñ–æ–∫—É—Å –≤–Ω—É—Ç—Ä—å
    const first = dlg.querySelector("a, button");
    first && first.focus();
  }

  function closeMenu() {
    dlg.close();
    openBtn.setAttribute("aria-expanded", "false");
    lockScroll(false);
    openBtn.focus();
  }

  if (openBtn && closeBtn && dlg) {
    openBtn.addEventListener("click", openMenu);
    closeBtn.addEventListener("click", closeMenu);

    // –ö–ª–∏–∫ –ø–æ –ø–æ–¥–ª–æ–∂–∫–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é
    dlg.addEventListener("click", (e) => {
      if (e.target === dlg) closeMenu();
    });

    // Esc –∑–∞–∫—Ä—ã–≤–∞–µ—Ç
    dlg.addEventListener("cancel", (e) => {
      e.preventDefault();
      closeMenu();
    });

    // –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ –ª—é–±–æ–º—É –ø—É–Ω–∫—Ç—É ‚Äî –∑–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é
    dlg.querySelectorAll("a").forEach((a) => {
      a.addEventListener("click", closeMenu);
    });
  }
</script>
