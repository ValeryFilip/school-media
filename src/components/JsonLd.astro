---
/**
 * JsonLd.astro — универсальный компонент для структурированных данных JSON-LD
 *
 * Использование:
 *   <JsonLd data={jsonLdObject} />
 */

interface Props {
  data: any;
}

const { data } = Astro.props;

if (!data) {
  return null;
}

// Экранируем </script> в JSON, чтобы контент (title, description и т.д.) не закрывал тег
const jsonStr = JSON.stringify(data, null, 2).replace(/<\/script/gi, "<\\/script");
---

<script type="application/ld+json" set:html={jsonStr} />
