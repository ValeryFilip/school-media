---
interface Props {
  pins?: string[]; // Массив пинов (например, ["Вечный доступ", "1200 заданий", "ЕГЭ"])
  title?: string; // Заголовок карточки
  features?: string[]; // Массив фич для списка
  priceNew?: string; // Новая цена
  priceOld?: string; // Старая цена
  priceDisc?: string; // Скидка
  priceNote?: string; // Примечание о цене
  buttonText?: string; // Текст кнопки
  buttonHref?: string; // Ссылка для кнопки (если указана, кнопка становится ссылкой)
  buttonClass?: string; // Дополнительные классы для кнопки
  href?: string; // Ссылка для всей карточки (при клике на карточку)
}

const {
  pins = ["Вечный доступ", "1200 заданий", "ЕГЭ"],
  title = "Card Title",
  features = ["Feature one", "Feature two", "Feature three"],
  priceNew = "5490 ₽",
  priceOld = "7450 ₽",
  priceDisc = "скидка 24%",
  priceNote = "цена указана за весь курс сразу",
  buttonText = "Подробнее",
  href = "#",
  buttonClass = "",
} = Astro.props;
---

<article class="cursCard white-bg">
  <a href={href} class="cursCard__link">
    <div class="cursCard__top">
      <div class="cursCard__pins">
        {pins.map((pin) => <div class="cursCard__pin">{pin}</div>)}
      </div>
      <div class="cursCard__center">
        <h3 class="cursCard__title">{title}</h3>
        <ul class="cursCard__list">
          {
            features.map((feature) => (
              <li class="cursCard__list-item" set:html={feature} />
            ))
          }
        </ul>
      </div>
    </div>
    <div class="cursCard__price__bottom">
      <div class="cursCard__price-info">
        <div class="cursCard__price-new">{priceNew}</div>
        <div class="cursCard__price-old-info">
          <div class="cursCard__price-old">{priceOld}</div>
          <div class="cursCard__price-disc">{priceDisc}</div>
        </div>
      </div>
      <div class="cursCard__price-note">{priceNote}</div>
      {
        href ? (
          <a
            href={href}
            class={`cursCard__price-btn btn btn--primary ${buttonClass}`.trim()}
          >
            {buttonText}
          </a>
        ) : (
          <button
            class={`cursCard__price-btn btn btn--primary ${buttonClass}`.trim()}
          >
            {buttonText}
          </button>
        )
      }
    </div>
  </a>
</article>
<style>
  .cursCard {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    height: 100%;
  }
  .cursCard__top {
    padding: var(--space-24) var(--space-24) 0 var(--space-24);
  }
  .cursCard__pins {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-16);
    margin-bottom: var(--space-20);
  }
  .cursCard__pin {
    background: var(--bg);
    padding: var(--space-8) var(--space-12);
    border-radius: var(--radius-24);
    font-size: var(--text);
    color: var(--blue);
  }
  .cursCard__title {
    font-size: var(--h3);
    margin-bottom: var(--space-12);
    color: var(--blue);
  }
  .cursCard__list {
    list-style: none;
    padding: 0;
    margin: 0;
    margin-bottom: var(--space-20);
  }
  .cursCard__list-item {
    font-size: var(--text);
    margin-bottom: var(--space-8);
    position: relative;
    padding-left: var(--space-20);
  }
  .cursCard__list-item::before {
    content: "✓";
    position: absolute;
    left: 0;
    color: var(--green);
  }
  .cursCard__center {
    margin-bottom: var(--space-20);
  }
  .cursCard__price__bottom {
    background-color: var(--blue);
    padding: var(--space-24);
    border-bottom-left-radius: var(--radius-24);
    border-bottom-right-radius: var(--radius-24);
  }
  .cursCard__price-info {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: clamp(16px, 6vw, 50px);
    margin-bottom: var(--space-8);
  }
  .cursCard__price-new {
    font-size: clamp(34px, 6vw, 45px);
    color: var(--white);
    font-weight: bold;
  }
  .cursCard__price-old-info {
    display: flex;
    flex-direction: column;
    align-items: start;
    gap: var(--space-8);
  }
  .cursCard__price-old {
    font-size: var(--lead);
    color: #b9f81a;
    text-decoration: line-through;
    margin-right: var(--space-12);
  }
  .cursCard__price-disc {
    color: var(--white);
    padding: var(--space-4) var(--space-8);
    border-radius: var(--radius-8);
    font-size: var(--text-sm);
    font-weight: bold;
  }
  .cursCard__price-note {
    font-size: var(--text);
    color: var(--white);
    margin: 0;
  }
  .cursCard__price-btn {
    width: 100%;
    margin-top: var(--space-12);
    text-decoration: none;
    display: inline-block;
    text-align: center;
  }
  .cursCard__link {
    text-decoration: none;
    color: inherit;
    display: block;
  }
</style>
