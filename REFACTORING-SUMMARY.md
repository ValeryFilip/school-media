# üì¶ –ò—Ç–æ–≥–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## üéØ –¶–µ–ª—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

–£–±—Ä–∞—Ç—å –≤—Å–µ inline —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ –ª–µ–π–∞—É—Ç–æ–≤ –∏ –≤—ã–Ω–µ—Å—Ç–∏ –∏—Ö –≤ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è:

- ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∏—è –ª–µ–π–∞—É—Ç–æ–≤
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—é –ª–µ–π–∞—É—Ç–æ–≤

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. **`src/components/scripts/Preloader.astro`**

**–ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç:**

- HTML —Ä–∞–∑–º–µ—Ç–∫—É –ø—Ä–µ–ª–æ–∞–¥–µ—Ä–∞ —Å —Å–ø–∏–Ω–Ω–µ—Ä–æ–º
- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏ (inline –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ)
- –õ–æ–≥–∏–∫—É –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ê–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
- –ü–æ–¥–¥–µ—Ä–∂–∫—É bfcache (–≤–æ–∑–≤—Ä–∞—Ç —á–µ—Ä–µ–∑ "–Ω–∞–∑–∞–¥")

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```astro
import Preloader from "../components/scripts/Preloader.astro";

<head>
  <Preloader />
</head>

<body class="is-loading">
  <!-- –∫–æ–Ω—Ç–µ–Ω—Ç -->
</body>
```

**–ë—ã–ª–æ:** 180+ —Å—Ç—Ä–æ–∫ inline –∫–æ–¥–∞
**–°—Ç–∞–ª–æ:** `<Preloader />`

---

### 2. **`src/components/scripts/RecaptchaLoader.astro`**

**–ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç:**

- –£—Å–ª–æ–≤–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É Google reCAPTCHA v3
- –ü—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ production (–Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ localhost)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É —Å–∫—Ä–∏–ø—Ç–∞

**Props:**

- `siteKey?: string` - –∫–ª—é—á —Å–∞–π—Ç–∞ reCAPTCHA (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Ç–µ–∫—É—â–∏–π)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```astro
import RecaptchaLoader from "../components/scripts/RecaptchaLoader.astro";

<head>
  <RecaptchaLoader />
  <!-- –∏–ª–∏ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –∫–ª—é—á–æ–º -->
  <RecaptchaLoader siteKey="YOUR_SITE_KEY" />
</head>
```

**–ë—ã–ª–æ:** –î—É–±–ª–∏—Ä–æ–≤–∞–ª—Å—è –≤ –æ–±–æ–∏—Ö –ª–µ–π–∞—É—Ç–∞—Ö (~15 —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥—ã–π)
**–°—Ç–∞–ª–æ:** `<RecaptchaLoader />` –≤ –æ–±–æ–∏—Ö –ª–µ–π–∞—É—Ç–∞—Ö

---

### 3. **`src/components/scripts/ExternalScripts.astro`**

**–ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç:**

- –ó–∞–≥—Ä—É–∑–∫—É `popup.js` (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏)
- –ó–∞–≥—Ä—É–∑–∫—É `leadcapture.js` (–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º –∏ UTM)
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ (defer/async)

**Props:**

```ts
interface Props {
  loadPopup?: boolean; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: true
  loadLeadCapture?: boolean; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: true
  popupPath?: string; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: "/js/popup.js"
  leadCapturePath?: string; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: "/js/leadcapture.js"
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```astro
import ExternalScripts from "../components/scripts/ExternalScripts.astro";

<body>
  <!-- –∫–æ–Ω—Ç–µ–Ω—Ç -->

  <!-- –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã -->
  <ExternalScripts />

  <!-- –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–ª—å–∫–æ popup -->
  <ExternalScripts loadLeadCapture={false} />

  <!-- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—É—Ç–∏ -->
  <ExternalScripts
    popupPath="/custom/popup.js"
    leadCapturePath="/custom/leadcapture.js"
  />
</body>
```

**–ë—ã–ª–æ:** –î—É–±–ª–∏—Ä–æ–≤–∞–ª—Å—è –≤ –æ–±–æ–∏—Ö –ª–µ–π–∞—É—Ç–∞—Ö (4 —Å—Ç—Ä–æ–∫–∏ –∫–∞–∂–¥—ã–π)
**–°—Ç–∞–ª–æ:** `<ExternalScripts />` –≤ –æ–±–æ–∏—Ö –ª–µ–π–∞—É—Ç–∞—Ö

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### Layout.astro

- **–£–¥–∞–ª–µ–Ω–æ:** ~180 —Å—Ç—Ä–æ–∫ inline —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ —Å—Ç–∏–ª–µ–π
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** 3 –∏–º–ø–æ—Ä—Ç–∞, 3 —Ç–µ–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ö–æ–¥ —Å—Ç–∞–ª:** –ß–∏—â–µ –Ω–∞ ~170 —Å—Ç—Ä–æ–∫

### MainLayout.astro

- **–£–¥–∞–ª–µ–Ω–æ:** ~15 —Å—Ç—Ä–æ–∫ inline —Å–∫—Ä–∏–ø—Ç–æ–≤
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** 2 –∏–º–ø–æ—Ä—Ç–∞, 2 —Ç–µ–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ö–æ–¥ —Å—Ç–∞–ª:** –ß–∏—â–µ –Ω–∞ ~10 —Å—Ç—Ä–æ–∫

### –ò—Ç–æ–≥–æ:

- ‚úÖ –°–æ–∑–¥–∞–Ω–æ **3 –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ **~195 —Å—Ç—Ä–æ–∫** –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ **~180 —Å—Ç—Ä–æ–∫** –≤ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ **–ß–∏—Å—Ç–∞—è —ç–∫–æ–Ω–æ–º–∏—è:** ~15 —Å—Ç—Ä–æ–∫ + –ø–æ–ª–Ω–æ–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üîÑ –î–æ –∏ –ü–æ—Å–ª–µ

### –î–æ:

**Layout.astro:**

```astro
<head>
  <!-- 50+ —Å—Ç—Ä–æ–∫ —Å—Ç–∏–ª–µ–π –ø—Ä–µ–ª–æ–∞–¥–µ—Ä–∞ -->
  <style>...</style>

  <!-- 30+ —Å—Ç—Ä–æ–∫ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–µ–ª–æ–∞–¥–µ—Ä–∞ -->
  <script>...</script>

  <!-- 100+ —Å—Ç—Ä–æ–∫ —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é -->
  <script>...</script>

  <!-- 15 —Å—Ç—Ä–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ reCAPTCHA -->
  <script>...</script>
</head>

<body>
  <!-- 10 —Å—Ç—Ä–æ–∫ HTML –ø—Ä–µ–ª–æ–∞–¥–µ—Ä–∞ -->
  <div id="preloader">...</div>

  <!-- –∫–æ–Ω—Ç–µ–Ω—Ç -->

  <!-- 4 —Å—Ç—Ä–æ–∫–∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
  <script src="/js/popup.js" defer></script>
  <script src="/js/leadcapture.js" async></script>
</body>
```

### –ü–æ—Å–ª–µ:

**Layout.astro:**

```astro
<head>
  <RecaptchaLoader />
  <Preloader />
</head>

<body class="is-loading">
  <!-- –∫–æ–Ω—Ç–µ–Ω—Ç -->

  <ExternalScripts />
</body>
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### 1. **–ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**

–û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å–∫—Ä–∏–ø—Ç –±–æ–ª—å—à–µ –Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –º–µ–∂–¥—É –ª–µ–π–∞—É—Ç–∞–º–∏.

### 2. **–õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å**

–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤–µ–∑–¥–µ.

### 3. **–ü—Ä–æ—â–µ —á–∏—Ç–∞—Ç—å**

–õ–µ–π–∞—É—Ç—ã —Å—Ç–∞–ª–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–æ—á–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ.

### 4. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–¥–µ —É–≥–æ–¥–Ω–æ, –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –ª–µ–π–∞—É—Ç–∞—Ö.

### 5. **–ì–∏–±–∫–æ—Å—Ç—å**

Props –ø–æ–∑–≤–æ–ª—è—é—Ç –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞.

### 6. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—é**

–õ–µ–π–∞—É—Ç—ã —Ç–µ–ø–µ—Ä—å –≥–æ—Ç–æ–≤—ã –∫ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—é –≤ –æ–¥–∏–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π.

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –ª–µ–π–∞—É—Ç–æ–≤:

1. ‚úÖ `UnifiedMenu.astro` - —É–∂–µ —Å–æ–∑–¥–∞–Ω
2. ‚úÖ `Preloader.astro` - —Å–æ–∑–¥–∞–Ω
3. ‚úÖ `RecaptchaLoader.astro` - —Å–æ–∑–¥–∞–Ω
4. ‚úÖ `ExternalScripts.astro` - —Å–æ–∑–¥–∞–Ω
5. ‚è≥ `BaseLayout.astro` - –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å Layout + MainLayout
6. ‚è≥ –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ `Menu.astro` –∏ `Menu_lend.astro`
7. ‚è≥ –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ `Layout.astro` –∏ `MainLayout.astro`

---

## üìù –ó–∞–º–µ—Ç–∫–∏

- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã (–≤–∫–ª—é—á–∞—é—Ç —Å–≤–æ–∏ —Å—Ç–∏–ª–∏/—Å–∫—Ä–∏–ø—Ç—ã)
- TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤–µ–∑–¥–µ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö
- –°–ª–µ–¥—É–µ–º best practices Astro

---

_–°–æ–∑–¥–∞–Ω–æ: 20 –æ–∫—Ç—è–±—Ä—è 2025_
_–ê–≤—Ç–æ—Ä: AI Assistant (—Å –ø–æ–º–æ—â—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)_
